<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
   <form>
    <label for="name">Name :</label>
    <input type="text" id="name">
    <label for="pass">Password :</label>
    <input type="text" id="pass">
    <label for="gender">gender :</label>
    <input type="radio" name="gender" value="male">male
    <input type="radio" name="gender" value="female">female
    <input type="button" onclick="adduser()" value="add">
    <button type="button" onclick="updateuser()">updateuser</button>
   </form> 
   <table border="1">
    <thead>
        <tr>
         <th>Name</th>
         <th>Password</th>
         <th>gender</th>
         <th>Edit</th>
         <th>Delete</th>
        </tr>
    </thead>
    <tbody>
        
    </tbody>
   </table>
   <script>
    var users=[];
    var rbtons=document.getElementsByName("gender");
    function adduser(){
     var person={
        name:"",
        pass:"",
        gender:"",
     }
     for(a in person){
        if(a != "gender"){
            person[a]=document.getElementById(a).value;
        }else if(a == "gender"){
            rbtons.forEach((rb)=>{
                if(rb.checked){
                    person.gender=rb.value;
                }
            })
        }
     }
    users.push(person);
    displayuser();  
    clearform(); 
    }
    function displayuser(){
        document.querySelector("tbody").innerHTML = ""
        users.forEach((usr,i)=>{
            var mytr=document.createElement("tr");
            for(a in usr){
                var mytd=document.createElement("td");
                mytd.innerHTML=usr[a];
                mytr.appendChild(mytd);
            }
            var edtd=document.createElement("td");
            mytr.appendChild(edtd)
            var edbtn=document.createElement("button")
            edtd.appendChild(edbtn)
            edbtn.innerHTML="edit"
            edbtn.setAttribute("onclick","edituser("+i+")")

            var detd=document.createElement("td")
            mytr.appendChild(detd)
            var debtn=document.createElement("td")
            detd.appendChild(debtn)
            debtn.innerHTML="delete"
            debtn.setAttribute("onclick","deleteuser("+i+")")
            document.querySelector("tbody").appendChild(mytr)
        })
        
    }
    function edituser(i){
        gIndex=i
        for(a in users[i]){
            if(a != "gender"){
            document.getElementById(a).value=users[i][a]
        }else if(a == "gender"){
         rbtons.forEach((rb)=>{
            if(rb.value=users[i].gender){
                rb.checked=true;
            }
         })
        }
        }
    }
    function deleteuser(i){
     users=users.filter((usr,index)=>{
        return i!= index;
     })
     displayuser()
    }
    function updateuser() {
        var person={
        name:"",
        pass:"",
        gender:"",
     } 
        for(a in person){
            if(a != "gender"){
        person[a]=document.getElementById(a).value;
        }else if(a == "gender"){
            rbtons.forEach((rb)=>{
                if(rb.checked){
                    person.gender=rb.value;
                }
            })
        }
     }
     users[gIndex]=person,
     displayuser() 
     clearform()
    }
    function clearform(){
        var person={
        name:"",
        pass:"",
        gender:"",
     }
     for(a in person){
        if(a !== "gender"){
        document.getElementById(a).value="";
        rbtons.forEach((rb)=>{
        rb.checked = false
        });
        }
     }
    }
   </script>
</body>
</html>