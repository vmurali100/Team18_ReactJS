<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
   <form>
    <label for="name">Name :</label>
    <input type="text" id="name">
    <label for="pass">Password :</label>
    <input type="text" id="pass">
    <label for="gender">gender :</label>
    <input type="radio" name="gender" value="male">male
    <input type="radio" name="gender" value="female">female
    <input type="button" onclick="adduser()" value="add">
    <button type="button" onclick="updateuser()">updateuser</button>
   </form> 
   <table border="1">
    <thead>
        <tr>
         <th>Name</th>
         <th>Password</th>
         <th>gender</th>
         <th>Edit</th>
         <th>Delete</th>
        </tr>
    </thead>
    <tbody>
        
    </tbody>
   </table>
   <script>
    var users=[];
    var rbtons=document.getElementsByName("gender");
    function adduser(){
     var person={
        name:"",
        pass:"",
        gender:"",
     }
     for(a in person){
        if(a != "gender"){
            person[a]=document.getElementById(a).value;
        }else if(a == "gender"){
            rbtons.forEach((rb)=>{
                if(rb.checked){
                    person.gender=rb.value;
                }
            })
        }
     }
    users.push(person);
    displayuser();  
    clearform(); 
    }
    function displayuser(){
        document.querySelector("tbody").innerHTML = ""
        users.forEach((usr,i)=>{
            var mytr=document.createElement("tr");
            for(a in usr){
                var mytd=document.createElement("td");
                mytd.innerHTML=usr[a];
                mytr.appendChild(mytd);
            }
            var edtd=document.createElement("td")
            var detd=document.createElement("td")

            var edtdbtn=document.createElement("button")
            edtdbtn.innerHTML= "Edit";
            edtdbtn.setAttribute("onclick","edituser("+i+")")

            var dttdbtn=document.createElement("button")
            dttdbtn.innerHTML="delete";
            dttdbtn.setAttribute("onclick","deleteuser("+i+")")

            edtd.appendChild(edtdbtn)
            detd.appendChild(dttdbtn)
            
            mytr.appendChild(edtd)
            mytr.appendChild(detd)
            document.querySelector("tbody").appendChild(mytr)
        })
        
    }
    function edituser(i){
        document.getElementById("name").value=users[i].name
        document.getElementById("pass").value=users[i].pass
        document.getElementsByName("gender").value=users[i].gender
    }
    function deleteuser(i){
     users=users.filter((usr,index)=>{
        return i!= index;
     })
     displayuser()
    }
    gIndex==null;
    function updateuser() {
        var person={
        name:"",
        pass:"",
        gender:"",
     }
     users[i]=person,
     displayuser() 
    }
    // function deleteUser(i){
    //         users = users.filter((usr,index)=>{
    //             return i != index
    //         })
    //         localStorage.setItem("users",JSON.stringify(users))
    //         displayUsers()
    //     }
    function clearform(){
        var person={
        name:"",
        pass:"",
        gender:"",
     }
     for(a in person){
        document.getElementById(a).value="";
        rbtons.forEach((rb)=>{
            rb.checked==false
        });
     }
    }
   </script>
</body>
</html>