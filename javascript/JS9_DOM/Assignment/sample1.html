<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
     #hyuk{
        background-color: darkseagreen;
        width: 219px;
        height: 346px;
        text-align: center;
        margin: auto;
     }

     .hu{
        border:2px solid rgb(15, 238, 242);
     }
     table{
        border-collapse:collapse;
     }
     #btn1{
        display: none;
     }
    </style>
</head>
<body>
    <form id="hyuk">
    <legend><b>Create Registration Form Using Javascript</b><legend><br><br>
    <label for="name">Name :</label><br> 
    <input type="text" name="" id="name" placeholder="Ravi" class="hu"><br><br>
    <label for="email">Email :</label><br>
    <input type="text" name="" id="email"placeholder="Rav_2003@gmail.com"class="hu"><br><br>
    <label for="pass">Password :</label><br>
    <input type="text" name="" id="pass"  class="hu"><br><br>
    <label for="cpass">Confirm Password :</label><br>
    <input type="text" name="" id="cpass" class="hu"><br><br>
    <button type="button" onclick="adduser()" id="btn">Register</button><br>
    <button type="button" onclick=" updateuser()" id="btn1">update data</button>
    </form>
    <br><br>
    <table border="1">
        <thead>
            <tr>
                <th>Name </th>
                <th>Email</th>
                <th>Password</th>
                <th>Confirm Password</th>
                <th>Edit</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody>
           
        </tbody>
    </table>
    <script>
        var users = [];
        function adduser(){
        var user={
            name:"",
            email:"",
            pass:"",
            cpass:"",
        };
        for(a in user){
            user[a]=document.getElementById(a).value;
        }
        users.push(user);
        displayUser()
        clearForm()
    }

        function displayUser() {
        document.querySelector("tbody").innerHTML = ""
        users.forEach((usr,i)=>{
            var mytr=document.createElement("tr")
            for(a in usr){
                var mytd=document.createElement("td")
                mytd.innerHTML=usr[a]
                mytr.appendChild(mytd)
            }
            var edtd=document.createElement("td");
            mytr.appendChild(edtd)
            var edbtn=document.createElement("button")
            edtd.appendChild(edbtn)
            edbtn.innerHTML="Edit"
            edbtn.setAttribute("onclick","edituser("+i+")")
            document.querySelector("tbody").appendChild(mytr)

            var detd=document.createElement("td");
            mytr.appendChild(detd)
            var delbtn=document.createElement("button")
            detd.appendChild(delbtn)
            delbtn.innerHTML="Delete"
            delbtn.setAttribute("onclick","deleteuser("+i+")")

        })
        }
        function edituser(i){
            gIndex=i;
        for(a in users[i]){
            document.getElementById(a).value=users[i][a];
        }
        document.getElementById("btn").style.display="none"
        document.getElementById("btn1").style.display="block"
        displayUser()
        
    }
    function updateuser(){
        document.getElementById("btn").style.display="block"
        document.getElementById("btn1").style.display="none"
        var user={
            name:"",
            email:"",
            pass:"",
            cpass:"",
        };
        for(a in user){
            user[a]=document.getElementById(a).value;
        }
        users[gIndex] = user;
        displayUser()
        clearForm()
    }
    function deleteuser(i){
        users=users.filter((usr,index)=>{
            return i!=index
        })
        displayUser()
    }
        function clearForm(){
            var user={
            name:"",
            email:"",
            pass:"",
            cpass:"",
        };
        for(a in user){
            document.getElementById(a).value=""
            
        }
        
      }
    </script>
</body>
</html>